{"remainingRequest":"/home/fupeng/Workspace/wechat/quickstart-miniprogram/node_modules/thread-loader/dist/cjs.js??ref--2-1!/home/fupeng/Workspace/wechat/quickstart-miniprogram/node_modules/ts-loader/index.js??ref--2-2!/home/fupeng/Workspace/wechat/quickstart-miniprogram/src/store/index.ts","dependencies":[{"path":"/home/fupeng/Workspace/wechat/quickstart-miniprogram/src/store/index.ts","mtime":1539846987828},{"path":"/home/fupeng/Workspace/wechat/quickstart-miniprogram/node_modules/cache-loader/dist/cjs.js","mtime":1537176859979},{"path":"/home/fupeng/Workspace/wechat/quickstart-miniprogram/node_modules/thread-loader/dist/cjs.js","mtime":1537176860533},{"path":"/home/fupeng/Workspace/wechat/quickstart-miniprogram/node_modules/ts-loader/index.js","mtime":1535545777399}],"contextDependencies":[],"result":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ACTIONS = {};\nvar MUTATIONS = {};\nvar GETTER = {};\n// 将 state 挂载到 getApp().state\nfunction _setState(state) {\n    this.state = Object.assign({}, state);\n}\nfunction _setAction(actions) {\n    Object.assign(ACTIONS, actions);\n}\nfunction _setMutation(mutations) {\n    Object.assign(MUTATIONS, mutations);\n}\nfunction _setGetter(getter) {\n    Object.assign(GETTER, getter);\n}\nfunction createStore() {\n    var stateModules = require('./state');\n    var actionModules = require('./actions');\n    var mutationModules = require('./mutations');\n    var getterModules = require('./getter');\n    // has module namespace in getApp().state\n    if (stateModules) {\n        _setState.call(this, stateModules.default);\n    }\n    // has module namespace in MUTATIONS\n    if (mutationModules) {\n        _setMutation(mutationModules.default);\n    }\n    // has module namespace in ACTIONS\n    if (actionModules) {\n        _setAction(actionModules.default);\n    }\n    // has module namespace in GETTER\n    if (getterModules) {\n        _setGetter(getterModules.default);\n    }\n}\nexports.createStore = createStore;\nfunction dispatch(keyname, param) {\n    var currentModuleName = Object.keys(ACTIONS).find(function (moduleName) {\n        return ACTIONS[moduleName].hasOwnProperty(keyname);\n    });\n    if (currentModuleName) {\n        var self = getApp() || this;\n        return ACTIONS[currentModuleName][keyname]\n            .call(this, self.state[currentModuleName], param);\n    }\n    else {\n        console.log(\"could not dispatch \" + keyname + \". \" + keyname + \" callback is undefined.\");\n    }\n}\nfunction getter(keyname, param) {\n    var currentModuleName = Object.keys(GETTER).find(function (moduleName) { return GETTER[moduleName].hasOwnProperty(keyname); });\n    if (currentModuleName) {\n        var self = getApp() || this;\n        return GETTER[currentModuleName][keyname]\n            .call(this, self.state[currentModuleName], param);\n    }\n    else {\n        console.log(\"could not dispatch \" + keyname + \". \" + keyname + \" callback is undefined.\");\n    }\n}\nfunction commit(keyname, param) {\n    var currentModuleName = Object.keys(MUTATIONS).find(function (moduleName) {\n        return MUTATIONS[moduleName].hasOwnProperty(keyname);\n    });\n    if (currentModuleName) {\n        var self = getApp() || this;\n        self.state[currentModuleName] = MUTATIONS[currentModuleName][keyname]\n            .call(null, self.state[currentModuleName], param);\n    }\n    else {\n        console.log(\"could not commit \" + keyname + \". \" + keyname + \" callback is undefined.\");\n    }\n}\nexports.default = {\n    commit: commit,\n    dispatch: dispatch,\n    getter: getter\n};\n",{"version":3,"file":"/home/fupeng/Workspace/wechat/quickstart-miniprogram/src/store/index.ts","sourceRoot":"","sources":["/home/fupeng/Workspace/wechat/quickstart-miniprogram/src/store/index.ts"],"names":[],"mappings":"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","sourcesContent":["const ACTIONS: any = {};\nconst MUTATIONS: any = {};\nconst GETTER: any = {};\n\n// 将 state 挂载到 getApp().state\nfunction _setState(state: any) {\n    this.state = Object.assign({}, state);\n}\n\nfunction _setAction(actions: any) {\n    Object.assign(ACTIONS, actions);\n}\n\nfunction _setMutation(mutations: any) {\n    Object.assign(MUTATIONS, mutations);\n}\n\nfunction _setGetter(getter: any) {\n    Object.assign(GETTER, getter);\n}\n\nexport function createStore() {\n    const stateModules: any = require('./state');\n    const actionModules: any = require('./actions');\n    const mutationModules: any = require('./mutations');\n    const getterModules: any = require('./getter');\n\n    // has module namespace in getApp().state\n    if (stateModules) {\n        _setState.call(this, stateModules.default);\n    }\n\n    // has module namespace in MUTATIONS\n    if (mutationModules) {\n        _setMutation(mutationModules.default);\n    }\n\n    // has module namespace in ACTIONS\n    if (actionModules) {\n        _setAction(actionModules.default);\n    }\n\n    // has module namespace in GETTER\n    if (getterModules) {\n        _setGetter(getterModules.default);\n    }\n}\n\nfunction dispatch(keyname: string, param: any) {\n    const currentModuleName = Object.keys(ACTIONS).find(moduleName =>\n        ACTIONS[moduleName].hasOwnProperty(keyname));\n\n    if (currentModuleName) {\n        const self = getApp() || this;\n        return ACTIONS[currentModuleName][keyname]\n            .call(this, self.state[currentModuleName], param);\n    } else {\n        console.log(`could not dispatch ${keyname}. ${keyname} callback is undefined.`);\n    }\n}\n\nfunction getter(keyname: string, param: any) {\n    const currentModuleName = Object.keys(GETTER).find(moduleName => GETTER[moduleName].hasOwnProperty(keyname));\n\n    if (currentModuleName) {\n        const self = getApp() || this;\n        return GETTER[currentModuleName][keyname]\n            .call(this, self.state[currentModuleName], param);\n    } else {\n        console.log(`could not dispatch ${keyname}. ${keyname} callback is undefined.`);\n    }\n}\n\nfunction commit(keyname: string, param: any) {\n    const currentModuleName = Object.keys(MUTATIONS).find(moduleName =>\n        MUTATIONS[moduleName].hasOwnProperty(keyname));\n\n    if (currentModuleName) {\n        const self = getApp() || this;\n        self.state[currentModuleName] = MUTATIONS[currentModuleName][keyname]\n            .call(null, self.state[currentModuleName], param);\n    } else {\n        console.log(`could not commit ${keyname}. ${keyname} callback is undefined.`);\n    }\n}\n\nexport default {\n    commit,\n    dispatch,\n    getter\n};\n"]}]}