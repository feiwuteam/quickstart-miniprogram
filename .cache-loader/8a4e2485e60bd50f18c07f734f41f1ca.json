{"remainingRequest":"/home/fupeng/Workspace/wechat/quickstart-miniprogram/node_modules/thread-loader/dist/cjs.js??ref--2-1!/home/fupeng/Workspace/wechat/quickstart-miniprogram/node_modules/ts-loader/index.js??ref--2-2!/home/fupeng/Workspace/wechat/quickstart-miniprogram/src/utils/index.ts","dependencies":[{"path":"/home/fupeng/Workspace/wechat/quickstart-miniprogram/src/utils/index.ts","mtime":1539854575215},{"path":"/home/fupeng/Workspace/wechat/quickstart-miniprogram/node_modules/cache-loader/dist/cjs.js","mtime":1537176859979},{"path":"/home/fupeng/Workspace/wechat/quickstart-miniprogram/node_modules/thread-loader/dist/cjs.js","mtime":1537176860533},{"path":"/home/fupeng/Workspace/wechat/quickstart-miniprogram/node_modules/ts-loader/index.js","mtime":1535545777399}],"contextDependencies":[],"result":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.queryStringfy = function (params) {\n    if (params === void 0) { params = {}; }\n    if (Object.keys(params).length) {\n        return Object.keys(params).map(function (key) {\n            return encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]);\n        }).join('&');\n    }\n    return '';\n};\nexports.formatDate = function (timestamp, fmt) {\n    if (timestamp === void 0) { timestamp = new Date().valueOf(); }\n    if (fmt === void 0) { fmt = 'yyyy-MM-dd hh:mm:ss'; }\n    if (typeof timestamp === 'string') {\n        timestamp = parseInt(timestamp, 10);\n    }\n    var date = new Date(timestamp);\n    if (date.toString() === 'Invalid Date') {\n        return 'Invalid Date';\n    }\n    var o = {\n        'M+': date.getMonth() + 1,\n        'd+': date.getDate(),\n        'h+': date.getHours() % 12 === 0 ? 12 : date.getHours() % 12,\n        'H+': date.getHours(),\n        'm+': date.getMinutes(),\n        's+': date.getSeconds(),\n        'q+': Math.floor((date.getMonth() + 3) / 3),\n        'S': date.getMilliseconds() // 毫秒\n    };\n    var week = {\n        '0': '/u65e5',\n        '1': '/u4e00',\n        '2': '/u4e8c',\n        '3': '/u4e09',\n        '4': '/u56db',\n        '5': '/u4e94',\n        '6': '/u516d'\n    };\n    if (/(y+)/.test(fmt)) {\n        fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n    }\n    if (/(E+)/.test(fmt)) {\n        fmt = fmt.replace(RegExp.$1, ((RegExp.$1.length > 1) ? (RegExp.$1.length > 2 ? '/u661f/u671f' : '/u5468') : '') + week[date.getDay() + '']);\n    }\n    for (var k in o) {\n        if (new RegExp('(' + k + ')').test(fmt)) {\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)));\n        }\n    }\n    return fmt;\n};\nexports.deepClone = function (obj) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n    if (Array.isArray(obj)) {\n        return obj.map(function (v) {\n            if (typeof v === 'object' && v !== null) {\n                return exports.deepClone(v);\n            }\n            else {\n                return v;\n            }\n        });\n    }\n    else {\n        var newObj_1 = {};\n        Object.keys(obj).forEach(function (v) {\n            if (typeof obj[v] === 'object' && obj[v] !== null) {\n                newObj_1[v] = exports.deepClone(obj[v]);\n            }\n            else {\n                newObj_1[v] = obj[v];\n            }\n        });\n        return newObj_1;\n    }\n};\nexports.strFormat = function (result, args) {\n    if (result === void 0) { result = ''; }\n    if (args === void 0) { args = {}; }\n    for (var key in args) {\n        var reg = new RegExp('({' + key + '})', 'g');\n        result = result.replace(reg, args[key]);\n    }\n    return result;\n};\nexports.strLen = function (str) {\n    var count = 0;\n    for (var i = 0, len = str.length; i < len; i++) {\n        count += str.charCodeAt(i) < 256 ? 1 : 2;\n    }\n    return count;\n};\nfunction parseTime(time, cFormat) {\n    if (arguments.length === 0) {\n        return null;\n    }\n    var format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}';\n    var date;\n    if (typeof time === 'object') {\n        date = time;\n    }\n    else {\n        if (('' + time).length === 10) {\n            time = parseInt(time, 10) * 1000;\n        }\n        date = new Date(time.replace(/-/g, '/'));\n    }\n    var formatObj = {\n        y: date.getFullYear(),\n        m: date.getMonth() + 1,\n        d: date.getDate(),\n        h: date.getHours(),\n        i: date.getMinutes(),\n        s: date.getSeconds(),\n        a: date.getDay()\n    };\n    var time_str = format.replace(/{(y|m|d|h|i|s|a)+}/g, function (result, key) {\n        var value = formatObj[key];\n        // Note: getDay() returns 0 on Sunday\n        if (key === 'a') {\n            return ['日', '一', '二', '三', '四', '五', '六'][value];\n        }\n        if (result.length > 0 && value < 10) {\n            value = '0' + value;\n        }\n        return value || 0;\n    });\n    return time_str;\n}\nexports.parseTime = parseTime;\nfunction formatTime(time, option) {\n    time = +time * 1000;\n    var d = new Date(time);\n    var now = Date.now();\n    var diff = (now - d) / 1000;\n    if (diff < 30) {\n        return '刚刚';\n    }\n    else if (diff < 3600) {\n        // less 1 hour\n        return Math.ceil(diff / 60) + '分钟前';\n    }\n    else if (diff < 3600 * 24) {\n        return Math.ceil(diff / 3600) + '小时前';\n    }\n    else if (diff < 3600 * 24 * 2) {\n        return '1天前';\n    }\n    if (option) {\n        return parseTime(time, option);\n    }\n    else {\n        return (d.getMonth() +\n            1 +\n            '月' +\n            d.getDate() +\n            '日' +\n            d.getHours() +\n            '时' +\n            d.getMinutes() +\n            '分');\n    }\n}\nexports.formatTime = formatTime;\nexports.validateMobile = function (num) {\n    var regexp = /^1[3|4|5|6|7|8|9]\\d{9}$/;\n    return regexp.test(num);\n};\n",{"version":3,"file":"/home/fupeng/Workspace/wechat/quickstart-miniprogram/src/utils/index.ts","sourceRoot":"","sources":["/home/fupeng/Workspace/wechat/quickstart-miniprogram/src/utils/index.ts"],"names":[],"mappings":"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","sourcesContent":["export const queryStringfy = (params: object = {}) => {\n    if (Object.keys(params).length) {\n        return Object.keys(params).map(key =>\n            `${encodeURIComponent(key)}=${encodeURIComponent((params as any)[key])}`\n        ).join('&');\n    }\n    return '';\n};\n\nexport const formatDate = (timestamp: string | number = new Date().valueOf(), fmt: string = 'yyyy-MM-dd hh:mm:ss'): string => {\n    if (typeof timestamp === 'string') {\n        timestamp = parseInt(timestamp, 10);\n    }\n    const date: Date = new Date(timestamp);\n    if (date.toString() === 'Invalid Date') {\n        return 'Invalid Date';\n    }\n    const o: any = {\n        'M+': date.getMonth() + 1, // 月份\n        'd+': date.getDate(), // 日\n        'h+': date.getHours() % 12 === 0 ? 12 : date.getHours() % 12, // 小时\n        'H+': date.getHours(), // 小时\n        'm+': date.getMinutes(), // 分\n        's+': date.getSeconds(), // 秒\n        'q+': Math.floor((date.getMonth() + 3) / 3), // 季度\n        'S': date.getMilliseconds() // 毫秒\n    };\n\n    const week: any = {\n        '0': '/u65e5',\n        '1': '/u4e00',\n        '2': '/u4e8c',\n        '3': '/u4e09',\n        '4': '/u56db',\n        '5': '/u4e94',\n        '6': '/u516d'\n    };\n\n    if (/(y+)/.test(fmt)) {\n        fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n    }\n    if (/(E+)/.test(fmt)) {\n        fmt = fmt.replace(RegExp.$1, ((RegExp.$1.length > 1) ? (RegExp.$1.length > 2 ? '/u661f/u671f' : '/u5468') : '') + week[date.getDay() + '']);\n    }\n    for (const k in o) {\n        if (new RegExp('(' + k + ')').test(fmt)) {\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)));\n        }\n    }\n    return fmt;\n};\n\nexport const deepClone = (obj: any): any => {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n\n    if (Array.isArray(obj)) {\n        return obj.map(v => {\n            if (typeof v === 'object' && v !== null) { return deepClone(v); } else { return v; }\n        });\n    } else {\n        const newObj: any = {};\n\n        Object.keys(obj).forEach(v => {\n            if (typeof obj[v] === 'object' && obj[v] !== null) {\n                newObj[v] = deepClone(obj[v]);\n            } else {\n                newObj[v] = obj[v];\n            }\n        });\n\n        return newObj;\n    }\n};\n\nexport const strFormat = (result: string = '', args: any = {}): string => {\n    for (const key in args) {\n        const reg = new RegExp('({' + key + '})', 'g');\n        result = result.replace(reg, args[key]);\n    }\n    return result;\n};\n\nexport const strLen = (str: string) => {\n    let count = 0;\n    for (let i = 0, len = str.length; i < len; i++) {\n        count += str.charCodeAt(i) < 256 ? 1 : 2;\n    }\n    return count;\n};\n\nexport function parseTime(time: number | string | Date, cFormat?: string) {\n    if (arguments.length === 0) {\n        return null;\n    }\n    const format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}';\n    let date: Date;\n    if (typeof time === 'object') {\n        date = time;\n    } else {\n        if (('' + time).length === 10) { time = parseInt(time as string, 10) * 1000; }\n        date = new Date((time as string).replace(/-/g, '/'));\n    }\n    const formatObj: any = {\n        y: date.getFullYear(),\n        m: date.getMonth() + 1,\n        d: date.getDate(),\n        h: date.getHours(),\n        i: date.getMinutes(),\n        s: date.getSeconds(),\n        a: date.getDay()\n    };\n    const time_str = format.replace(/{(y|m|d|h|i|s|a)+}/g, (result, key) => {\n        let value = formatObj[key];\n        // Note: getDay() returns 0 on Sunday\n        if (key === 'a') { return ['日', '一', '二', '三', '四', '五', '六'][value]; }\n        if (result.length > 0 && value < 10) {\n            value = '0' + value;\n        }\n        return value || 0;\n    });\n    return time_str;\n}\n\nexport function formatTime(time: number, option?: string) {\n    time = +time * 1000;\n    const d: any = new Date(time);\n    const now = Date.now();\n\n    const diff = (now - d) / 1000;\n\n    if (diff < 30) {\n        return '刚刚';\n    } else if (diff < 3600) {\n        // less 1 hour\n        return Math.ceil(diff / 60) + '分钟前';\n    } else if (diff < 3600 * 24) {\n        return Math.ceil(diff / 3600) + '小时前';\n    } else if (diff < 3600 * 24 * 2) {\n        return '1天前';\n    }\n    if (option) {\n        return parseTime(time, option);\n    } else {\n        return (\n            d.getMonth() +\n            1 +\n            '月' +\n            d.getDate() +\n            '日' +\n            d.getHours() +\n            '时' +\n            d.getMinutes() +\n            '分'\n        );\n    }\n}\n\nexport const validateMobile = (num: string): boolean => {\n    const regexp = /^1[3|4|5|6|7|8|9]\\d{9}$/;\n    return regexp.test(num);\n};\n"]}]}